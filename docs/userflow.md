### **1. 사용자 인증 (Authentication)**

#### **1.1. 로그인 (Login)**
- **입력:**
    1. 사용자가 아이디와 비밀번호를 입력 필드에 기입한다.
    2. 사용자가 '로그인' 버튼을 클릭한다.

- **처리:**
    1. 시스템은 입력된 아이디와 비밀번호가 비어있는지 확인한다. (유효성 검사)
    2. 시스템은 백엔드(Supabase Auth)로 인증을 요청한다.
    3. 백엔드는 데이터베이스에 저장된 사용자 정보와 일치하는지 검증한다.
    4. 인증 성공 시, 시스템은 접근 토큰(Access Token)을 발급하여 클라이언트에 전달한다.
    5. 클라이언트는 발급받은 토큰을 안전하게 저장하여 이후 API 요청에 사용한다.
    6. 인증 실패 시, 시스템은 실패 사유(자격 증명 불일치 등)를 포함한 오류 응답을 반환한다.

- **출력:**
    - **성공 시:**
        1. 사용자를 '메인 대시보드 페이지'로 리디렉션한다.
    - **실패 시:**
        1. 로그인 페이지에 실패 사유에 해당하는 오류 메시지를 표시한다.
    - **엣지 케이스 대응:**
        - **입력 값 없음:** '로그인' 버튼 비활성화 또는 클릭 시 각 필드에 대한 유효성 검사 메시지를 출력한다.
        - **서버/네트워크 오류:** 인증 요청이 실패할 경우, "서버에 연결할 수 없습니다." 와 같은 일반적인 오류 메시지를 출력한다.
        - **인가되지 않은 사용자:** 로그인 성공 후 사용자의 권한(관리자/일반)을 확인하여 접근할 수 없는 페이지(데이터 업로드)에 대한 접근을 제어한다.

#### **1.2. 로그아웃 (Logout)**
- **입력:**
    1. 사용자가 헤더(GNB)의 '로그아웃' 버튼을 클릭한다.

- **처리:**
    1. 클라이언트에 저장된 접근 토큰을 삭제한다.
    2. 시스템은 사용자의 세션을 종료 처리한다.

- **출력:**
    - **성공 시:**
        1. 사용자를 '로그인 페이지'로 리디렉션한다.
    - **사이드 이펙트:**
        1. 사용자는 더 이상 인증이 필요한 페이지('메인 대시보드', '데이터 업로드')에 접근할 수 없다.

### **2. 데이터 관리 (Data Management) - 관리자 전용**

#### **2.1. 엑셀 파일 업로드 (Excel File Upload)**
- **입력:**
    1. 관리자가 '데이터 업로드 페이지'에 접근한다.
    2. 관리자가 '파일 선택' 버튼을 클릭하여 로컬 시스템의 파일 탐색기를 연다.
    3. 관리자가 유효한 엑셀 파일(.xlsx, .xls 등)을 선택한다.
    4. 관리자가 '업로드' 버튼을 클릭한다.

- **처리:**
    1. 클라이언트는 선택된 파일의 확장자를 검증하여 엑셀 파일이 맞는지 일차적으로 확인한다.
    2. 시스템은 선택된 파일을 백엔드 API로 전송한다. (Multipart Form Data)
    3. 백엔드는 업로드된 파일을 임시 저장한다.
    4. 백엔드는 Pandas 라이브러리를 사용하여 엑셀 파일의 데이터를 메모리로 읽어들인다.
    5. 시스템은 정의된 데이터 스키마(필수 컬럼 존재 여부, 데이터 타입 등)와 엑셀 데이터의 구조가 일치하는지 검증한다.
    6. 검증 통과 시, 시스템은 기존에 데이터베이스에 있던 모든 관련 데이터를 삭제(DELETE)한다.
    7. 시스템은 새로 파싱된 데이터를 데이터베이스(Supabase PostgreSQL)에 저장(INSERT)한다.
    8. 처리 완료 후, 백엔드는 클라이언트로 성공 또는 실패 결과를 응답한다.

- **출력:**
    - **성공 시:**
        1. 페이지에 "성공적으로 업로드되었습니다"와 같은 피드백 메시지를 표시한다.
    - **실패 시:**
        1. 실패 원인에 따라 구체적인 오류 메시지를 표시한다.
    - **사이드 이펙트:**
        1. '메인 대시보드 페이지'의 모든 차트 데이터가 새로 업로드된 데이터를 기반으로 갱신된다.
    - **엣지 케이스 대응:**
        - **잘못된 파일 형식:** 엑셀이 아닌 파일(e.g., .pdf, .docx) 선택 시, 클라이언트 단에서 업로드를 차단하고 "엑셀 파일만 업로드할 수 있습니다." 메시지를 출력한다.
        - **데이터 양식 오류:** 엑셀 파일 내의 컬럼명이나 데이터 형식이 약속된 양식과 다를 경우, 백엔드 검증 단계에서 오류를 반환하고 "데이터 형식이 올바르지 않습니다." 메시지를 출력한다.
        - **빈 파일 또는 데이터 없음:** 파일은 정상이나 내용이 비어있을 경우, "파일에 처리할 데이터가 없습니다." 메시지를 출력하고 데이터베이스를 변경하지 않는다.
        - **업로드 용량 초과:** 서버에서 설정한 파일 크기 제한을 초과할 경우, "파일 크기가 너무 큽니다." 메시지를 출력한다.
        - **처리 중 오류:** 데이터베이스 저장 단계 등에서 예기치 않은 서버 오류 발생 시, "데이터 처리 중 오류가 발생했습니다." 메시지를 출력한다.

### **3. 데이터 조회 (Data Visualization)**

#### **3.1. 메인 대시보드 조회 (View Main Dashboard)**
- **입력:**
    1. 사용자가 로그인에 성공하거나, 다른 페이지에서 '대시보드' 메뉴를 클릭하여 '메인 대시보드 페이지'로 이동한다.

- **처리:**
    1. 페이지 진입 시, 클라이언트는 백엔드의 대시보드 데이터 조회 API를 호출한다.
    2. 백엔드는 데이터베이스에서 시각화에 필요한 데이터를 조회한다.
    3. 백엔드는 각 차트(막대, 라인, 파이 등)의 형태에 맞게 데이터를 집계하고 가공(Aggregation & Formatting)한다.
    4. 백엔드는 가공된 데이터를 JSON 형식으로 클라이언트에 응답한다.
    5. 클라이언트는 API 응답 데이터를 수신한다.
    6. 클라이언트는 Recharts와 같은 차트 라이브러리를 사용하여 수신한 데이터로 각 차트를 렌더링한다.

- **출력:**
    - **성공 시:**
        1. 종합 실적, 논문 수 추이 등 핵심 지표가 시각화된 차트들이 화면에 표시된다.
    - **엣지 케이스 대응:**
        - **데이터베이스에 데이터가 없는 경우:** 백엔드는 빈 데이터 배열을 응답하고, 클라이언트는 "표시할 데이터가 없습니다. 관리자가 데이터를 업로드해야 합니다." 와 같은 안내 메시지를 차트 영역에 표시한다.
        - **API 호출 실패:** 서버 또는 네트워크 문제로 데이터 로딩에 실패한 경우, "데이터를 불러오는 데 실패했습니다." 라는 오류 메시지나 로딩 실패 상태를 표시한다.